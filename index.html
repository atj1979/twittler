<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  </head>
  <body>
    
    
    
    
<!-- 
    <div id="name">Name Goes here</div></br>
    <div id="message">The tweet will go here</div></br>
    <div id="time">Time will go here</div> -->
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');
        //build html elements here
        $body.append('<h2>New Heading</h2>');
        $body.append('<input id="visitorTweet" type="text" value="Your Tweet here!"></input>');
        $body.append('<button type="button" class="btn" id="updateTweets">Update Tweets</button>');
        $body.append('<button type="button" class="btn">Show 10</button>');
        $body.append('<div id="tweetArea"></div>')
        $body.append('<div id="userTimeLine"></div>');
        //show totals of tweets for checking results
        for (var tweets in streams.users){
          console.log(tweets + " # of tweets " + streams.users[tweets].length)
        }

        //if a user is supplied, get that user data else get the default timeline
        var showTweets = function(user){
          
          if (user){
            var location = "#userTimeLine";
            var index = streams.users[user].length-1;
            //total tweets of selected timeline
            console.log(index);
          } else {
            var location ="#tweetArea"
            var index = streams.home.length - 1;
          }
            while(index >= 0){
              if (user){
                var tweet = streams.users[user][index];
              } else {
                var tweet = streams.home[index];
              }
              var $tweet = $('<div></div>');
              //basic tweet here - needs more formatting work
              var myTweet='<table class="totalTweet"><th class="user" data-name='+tweet.user+'>@'+tweet.user+'</th><tr class="message"><td>'+tweet.message+'</td></tr><tr><td>'+tweet.created_at+'</td></tr></table>';
              $(location).append(myTweet);
              index -= 1;
            }  
        };
        var updateTw = function (){
          //i think we want to prepend here based on index
        };
        showTweets();
        $('.user').click(function (){
          var selUser = $('.user').data('name');
          console.log(selUser);
          //clear the div
          $('#userTimeLine').html('');
          showTweets(selUser);
          
          
        });

        
        
        //get user timeline
      });

    </script>
  </body>
</html>
